# SPDX-License-Identifier: CC-BY-SA-2.0
# SPDX-FileCopyrightText: 2013-2020 Normation SAS
response:
  type: array
  items:
    type: object
    properties:
      id:
        type: string
        description: method id
        example: package_present
      name:
        type: string
        description: method name
        example: Package present
      version:
        type: string
        description: version of this technique
        example: "1.0"
      category:
        type: string
        description: category of this technique
        example: "user_techniques"
      description:
        type: string
        description: description of this method
        example: "Enforce the presence of a package"
      documentation:
        type: string
        description: full documentation of this method
      parameters:
        type: array
        description: Parameters for this technique
        items:
          $ref:  '#/definitions/methodParameter'
      agents:
        type: array
        description: List of agents compatible with this method
        items:
          type: string
          description: name of an agent
          example: dsc
      condition:
        type: object
        description: condition generated by this method
        properties:
          prefix:
            type: string
            description: Prefix used to generate condition
            example: package_present
          parameter:
            type: string
            description: id of the parameter used to generate condition
            example: package
      deprecated:
        type: object
        description: Is this method deprecated ?
        properties:
          info:
            type: string
            description: Information notice about the deprecation, especially how to replace it
          replacedBy:
            type: string
            description: Id of the method replacing this m√©thod
definitions:
  methodParameter:
    type: object
    properties:
      name:
        type: string
        description: Parameter name
        example: package
      description:
        type: string
        description: description of this parameter
        example: "Name of a package to install"
      constraints:
        type: object
        properties:
          allow_empty_string:
            type: boolean
            description: can this parameter be empty ?
          allow_whitespace_string:
            type: boolean
            description: can this parameter allow trailling/ending spaces, or even a full whitespace string ?
          max_length:
            type: int
            description: maximum size of a parameter
          min_length:
            type: in
            description: minimal size of a parameter
          regex:
            type: string
            description: a regexp to validate this parameter
          not_regex:
            type: string
            description: a regexp to invalidate this parameter
         select:
            type: array
            description: List of itemsauthorized for this parameter
      type:
        type: string
        description: Type of the parameter, probably just a string for now, but can be a dsc "HereString"